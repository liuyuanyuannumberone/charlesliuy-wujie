<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Iframe Example</title>
  </head>
  <body>
    <h1>主页面</h1>
    <iframe src="./child1.html" width="600" height="400" id="authIframe" style="border: 1px solid black"></iframe>
  </body>
  <script>
    function printParent() {
      console.log("我是父应用");
    }

    setTimeout(() => {
      const iframe = document.getElementById("authIframe");
      const iframeWindow = iframe.contentWindow;
      const iframeDocument = iframe.contentDocument;

      iframeWindow.add = function (a, b) {
        return a + b;
      };
      // 父应用通知子应用
      iframe.onload = function () {
        iframeWindow.printChild();
      };
      iframeDocument.body.style.backgroundColor = "green";
    }, 2 * 1000);

  </script>
</html>
